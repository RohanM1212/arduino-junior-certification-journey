Lesson Eight (Post Lesson Reflection)


It's been a while since my last journal entry. I was studying for academic decathlon. That doesn't matter. I'm back now and let's go over what I learned today. Today's lesson was about Piezo buzzers. We have done lessons on all types of sensors at this point, so it is time to learn about another actuator. Inside the plastic case of the Piezo buzzers, there is a membrane that vibrates like a drumhead. The membrane vibrates due to the electric current given to it. When a current passes through a membrane, it deforms. When the current stops, the membrane goes back to its original shape. When current is turned on and off very quickly, the membrane vibrates back and forth, creating sound waves that you can hear. We have made things move with servos and blink with LEDs, but now it's time to hear things with this buzzer. The way this buzzer is built is quite unique, and I like it. It was a lot of fun figuring out how the component works and how to use it. I build a musical keyboard with this, and it was quite fun and interesting. The keyboard can play an entire octave of notes. The things I learned were how to wire this component, and use it. This opens up a lot of creative opportunities and options. It's like adding a third dimension to a two dimensional drawing. I also discovered another major advantage to Arduino. It can calculate a lot faster than us humans and with no mistakes. To calculate a note's frequency, which determines its sound, we need to do a lot of calculations which the Arduino already does for us. First we need to find the period, which is found by dividing the total time, in seconds, by the number of cycles completed in that time, or the rate. Then we can find the frequency by taking the reciprocal of the period. Quite risky calculations to do by hand when the rate and time aren't small numbers. This lesson opens up the most possibilities so far. It also relates to real life the most. Not just the buzzer, but the way we calculate sound and play it is going on every time we listen to something digitally. It really opens my eyes to how advanced technology is and makes me grateful for it. Let's now talk about how electronic music came to be. Vaclav Prokop Divis, a Czech theologian, created the Denis d'or in the 1700s, at least a decade before Benjamin Franklin began his research into electricity. The instrument had iron strings that could be charged with electricity and was said to mimic the sounds of harps, lutes, and wind instruments. The actual instrument has been lost in time, and people still wonder how it operated. What amazes me is that scientists were looking at the relationship between sound and electricity from the beginning of electricity. This just reinforces the idea that I've been exploring in my reflections, inventions only come from necessity, annoyance, or curiosity. Without one of these, trying to create something or even learn something is much more difficult. The lesson also distinguished between electric instruments and electronic instruments. Electric instruments, like electric guitars, amplify sound that the instrument naturally produces. When you pluck a string on an electric guitar, it makes a small sound even when unplugged. The electric pickup detects the vibration and converts it into an electrical signal that can be changed. Electronic instruments, on the other hand, depend entirely on electronic components for the sounds they produce, such as the buzzer I learned about today. None of these types of instruments produce any sound when unplugged, unlike electric instruments. Doing any sort of action on the instrument will only send an electric signal to the program inside the instrument, which will then activate an electrical component which will create the sound. This history made me think about how electrical technology has changed the music and entertainment industries completely. Musicians now create music using video game controllers, laptops, LED violins, and countless other unique tools. The same technology that enables musicians to convert sound waves into digital signals allows those signals to be looped, sampled, sped up, slowed down, or changed by any number of effects. I honestly never thought I'd be building a musical instrument when I started this certification, but now I can see how the skills I'm learning apply far beyond stereotypical STEM applications. This showed me that electronics and Arduino aren't just for robots and sensors, it can also be used for art.






Now for the vocabulary:


Array – A collection of values or data of the same type.
Element – A single item in an array.
Frequency – The number of vibrations, cycles, or waves that pass a certain point in one second.
Hertz – A unit of frequency that is a measure of cycles per second.
Index – An element's position in an array. The index starts at 0 for the first element and 1 more for each element after.
Medium – Any substance through which waves transfer energy from one place to another.
Octave – A series of eight notes where the last note has twice the frequency of the first note.
Period – The time it takes for an object or wave to complete one vibration or one cycle.
Piezo buzzer – An electronic component that has a vibrating membrane that creates sound.
Resistor ladder – An electrical circuit composed of resistors that outputs different voltages that can be interpreted as analog signals.


Here is how I discovered the relationship between vibration rate and pitch:


I started with a rate variable set to 1, which meant the delay between the activation of the buzzer was 1ms. The total period was 0.002 seconds. Using the formula, frequency = 1 / period, I calculated 1 / 0.002 = 500 Hz. The frequency was 500 Hz. The sound was a medium pitch tone, somewhat buzzy but loud enough to hear. Middle C on a piano is 261.6 Hz, so this was about an octave higher. When I changed the rate to 2, the period doubled to 0.004 seconds (2 ms on + 2 ms off = 4 ms total). The frequency became 1 / 0.004 = 250 Hz. The pitch was lower than the first tone. Almost exactly one octave lower. The volume seemed roughly the same. Of course, it wasn't exactly the same because the buzzer wasn't perfect. When I changed the rate to 3, the period was 0.006 seconds and the frequency dropped to 1 / 0.006 = 166.67 Hz. The pitch was even lower, getting into a range that was harder to hear clearly through the small piezo buzzer. This experiment clearly shows the inverse relationship between period and frequency. As the rate variable increased (making the period longer), the frequency decreased, and the pitch got lower. What I found interesting is that frequency and period are calculatable in such a simple way. Usually, calculating things with waves and rate of change are not as simple to calculate, but it seems that this is quite simple to calculate.


Resistor Ladders:


When creating my musical keyboard, I had to use this structure called a resistor ladder. Essentially in a resistor ladder the electric signals sent to the arduino vary because of the resistors. I didn't have any other component other than a button to act as my keys so I used those. The issue with that is that each button will send the same electric signal to the arduino, so it is impossible to differentiate between them. In a true musical keyboard, like a piano, each key plays a different sound but that wasn't possible if each key sends the same electrical signal. To fix this problem, I used this structure called a resistor ladder. In this structure, each button would have a different resistor. Because each button now has a different resistor, their voltages differ. This means I can now differentiate between the buttons. Now I can assign each button to a different note and create my musical keyboard. The only way I was able to differentiate between the electric signals/voltage from each button was due to the different resistors of each of the buttons.


Now for the circuit of the day, the musical keyboard:


In my musical keyboard circuit, I had four key buttons that needed to be distinguished using a single analog pin (A0). Here's how each button affected the voltage:
Button 1 (First Key):
When the first key button is pressed, current flows from the positive terminal of the breadboard, through the button, through short jumper wires to the last button, and then through a long jumper wire to analog pin A0. This circuit has no resistor in the path, so the voltage at the analog pin is close to 5 volts, resulting in a high analog reading near 1,023.
Button 2 (Second Key):
When the second key button is pressed, current flows from the positive terminal, through a 220-ohm resistor, through the button, through the jumper wires, and to the analog pin. The 220-ohm resistor reduces the voltage, so the analog reading is high but not as high as Button 1, because this one is resisted while the first one wasn't.
Button 3 (Third Key):
The third key button has a 1K-ohm resistor attached. When pressed, the current passes through this larger resistor, which reduces the voltage even more than the 220-ohm resistor. This results in a smaller analog value than the first two buttons because it had a greater resistance than the other two.
Button 4 (Fourth Key):
The fourth key button has the largest resistor attached. A 4.7K-ohm resistor. When this button is pressed, the voltage is reduced the most, resulting in the lowest analog value of all four key buttons, since this has the highest resistance.
No Button Pressed:
When no key button is pressed, the analog pin is connected to ground through another 4.7K-ohm resistor attached to the first key button. This pull-down resistor ensures the voltage at the analog pin is approximately 0 volts, resulting in an analog value of 0 or very close to it.
The appeal of this design is that four different buttons can use a single analog pin. This also makes the coding a lot simpler because we only have to read the values of one analog pin rather than 5 of them then compare them. This is much more efficient than dedicating a separate digital pin to each button. I honestly think resistor ladders are one of the cleverest, and most complicated, circuit designs I've used in this journey. Another appeal of this structure is that it frees up other pins on the arduino board if we need them. Say, due to budget constraints, we only have one analog pin in our project. Without this method/way of thinking, I would be stumped and maybe even fired from my project. I realise because of this that adaptability is an essential trait that everyone must have, not just engineers.


Now for the code:


The first version used digitalWrite to rapidly turn the buzzer HIGH and LOW with delays, creating sound through vibration. The second version switched to delayMicroseconds() for higher pitches and added automatic frequency calculation with int frequency = 1000000 / (rate * 2). The third version used a notes array storing frequencies from middle C to high C, read the resistor ladder and toggle button, then played the corresponding frequency with tone(buzzerPin, notes[note]). The code wasn't very complicated because I have already learned about if, and switch structures and I already know about arrays from my background in CS. That is only partially the reason though, the main reason is that we attached the voltage of the buttons to one analog pin so we didn't have to write an insane amount of if statements and switch cases. Another advantage to using this type of structure. The main appeal of this lesson wasn't the wiring or the coding, it was the structure and uniqueness of the method of creation of the musical keyboard that taught me so much.


This lesson was honestly one of the most fun so far because it felt less like following instructions and more like creating something I could actually play with. The piezo buzzer is such a simple component but with the right code it can play music, which is something I genuinely didn't expect to do in this certification. The resistor ladder concept really impressed me because it opened my eyes to the necessity of adaptability in the real world. I wonder how much people have already paid for toys that are just as advanced as this and can be made at home in a couple hours. My favorite part of this entire certification is connecting what I learn to real life. It makes me feel even more curious after figuring out how a certain something works in the real world with my knowledge.
